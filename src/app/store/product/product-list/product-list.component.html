<div class="products-container">
  <div class="filters">
    <mat-label>Category</mat-label>
    <mat-select
      class="category-select"
      [(value)]="selectedCategory"
      (selectionChange)="categorySelected()"
    >
      <mat-option
        *ngFor="let category of (categories$ | async)?.categories"
        [value]="category"
      >
        {{ category }}
      </mat-option>
    </mat-select>
  </div>
  <div>
    <mat-card *ngFor="let product of products" class="product">
      <!--might change here the route-->
      <a [routerLink]="['product-details', product._id]">
        <img [src]="product.image | btoimg" alt="" />
      </a>
      <mat-card-content>
        <mat-card-subtitle style="text-align: center;"
          ><h3>{{ product.type }}</h3></mat-card-subtitle
        >
        <a
          [routerLink]="['product-details', product._id]"
          style="text-decoration: none;"
          ><h4 style="text-align: center;">
            <strong>{{ product.name }}</strong>
          </h4></a
        >
        <p style="text-align: center;">{{ product.description }}</p>

        <span class="item-price"
          ><p style="text-align: center;">$ {{ product.price }}</p>
          <button
            mat-icon-button
            (click)="addProduct(product)"
            class="shopping-button"
          >
            <mat-icon>shopping_cart</mat-icon>
          </button>
        </span>
      </mat-card-content>
    </mat-card>
  </div>
</div>
